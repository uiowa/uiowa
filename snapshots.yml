references:
  hide-alerts: &hide-alerts |
    document.querySelector('.uiowa-alerts-wrapper').style.display = 'none';
  disable-lazy: &disable-lazy |
    let allImages = document.querySelectorAll('img');
    allImages.forEach((img) => {img.setAttribute('loading', 'eager');});
snapshots:
  - name: Front page with events block hidden
    url: /
    execute: {
      beforeSnapshot() {
        document.querySelector('.block-inline-blockuiowa-events').parentNode.style.display = 'none';
        *hide-alerts
        *disable-lazy
      }
    }
    waitForTimeout: 1000
  - name: About page with search input visible
    url: /about
    execute: {
      beforeSnapshot() {
        document.querySelector('.search-button').click();
        *hide-alerts
      }
    }
  - name: People
    url: /people
    execute: *hide-alerts
  - name: Person
    url: /people/herky-hawk
    execute: *hide-alerts
  - name: Articles
    url: /news
    execute: *hide-alerts
  - name: Article
    url: /news/2019/09/demo-article
    execute: *hide-alerts
    waitForTimeout: 1000
